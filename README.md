# AbstractFabric
# Постановка задачи

Реализована некоторая система, которая способна генерировать код на языке С++, причем, программы только определенного вида.
Требуется реализовать подобную генерацию программ на С# и Java, путем  расширения возможностей предложенной реализации используя фабричные подходы (абстрактная фабрика). При реализации требуется добавить модификаторы классов и методов, которых нет в C++, но есть в C# и Java.

# Решение
Для решения задачи будем использовать фабричный подход, а именно паттерн **Абстрактная фабрика**. 
 Перед нами стоит задача создания кода программы на трех языках программирования (С++, С#, Java). Так как изначально программа составляется из трех классов: ClassUnit, MethodUnit, PrintOperatorUnit, то необходимо создавать продукты так, чтобы они сочетались с другими продуктами этого же семейства (Например ClassUnitCpp, MethodUnitCpp, PrintOperatorUnitCpp). Дополнительно необходима такая реализация, чтобы в дальнейшем код был доступен для расширения без изменения существующего кода. 
  Под поставленную задачу подходит паттерн проектирования «Абстрактная фабрика», как раз таки потому, что нам и необходимо создавать объекты различных объектов, принадлежащих одному семейству продуктов.
Для этого нам понадобятся следующие классы:
#### 1) Класс Unit - класс "единица": виртуальный базовый класс для последующего наследования от него классов ClassUnit, MethodUnit и PrintOperatorUnit.
  Объявляет в себе следующие функции:
    add - Добавление языковой конструкции (по умолчанию выдает ошибку)
    compile - Генерация кода
    generateShift - Создание строки, состоящей из пробелов для корректного вывода строчек кода (отступы)
  Также класс Unit объявляет деструктор (=default, компилятор сам создает нужный деструктор) и переопределяет слово Flags, как unsigned int
  
### Абстрактные продукты  
#### 2) Классы ClassUnit, MethodUnit и PrintOperatorUnit - наследники Unit
  ###### 2.1) ClassUnit
  Класс для создания конструкции "Класс". Содержит в себе перечисление всевозможных модификаторов доступа из языков C++, C# и JAVA. В protected зоне содержит название класса и вектор векторов указателей на объекты типа Unit.
  ###### 2.2) MethodUnit 
  Класс для создания конструкции "Метод". Содержит в себе перечисление всевозможных модификаторов методов C++, C# и JAVA. Явно реализует функцию add, так как действительно языки в отдельности не нуждаются в собственной реализации данной функции. В protected зоне содержит название метода, тип возвращаемого методом значения, модификаторы для данного метода и тело метода (функции, используемые внутри данного метода).
  ###### 2.3) PrintOperatorUnit 
  Класс для создания конструкции "Оператор печати". В protected зоне содержит только лишь текст, который программа будет выводить на консоль.
  
### Конкретные продукты  
#### 3) Классы ClassUnitCpp, ClassUnitCSharp и ClassUnitJava - наследники ClassUnit 
  Явно реализуют функции add и compile с учетом особенностей предоставляемого языка. Дополнительно объявляют вектор модификаторов доступа для заданного языка (предварительно они должны быть объявлены в ClassUnit).
  
#### 4) Классы MethodUnitCpp, MethodUnitCSharp и MethodUnitJava - наследники MethodUnitUnit 
  Явно реализуют функцию compile с учетом особенностей предоставляемого языка. Для выставления модификаторов метода используются битовые флаги, что позволяет передавать сразу несколько модификаторов, а также проводить удобную проверку на наличие того или иного модификатора при компиляции.
  
#### 5) Классы PrintOperatorUnitCpp, PrintOperatorUnitCSharp и PrintOperatorUnitJava - наследники PrintOperatorUnitUnit 
  Явно реализуют функцию compile с учетом особенностей предоставляемого языка. Возвращают строку, которая должна выводить код на консоль.

### Абстрактная фабрика
#### 6) Класс ProgrammFactory
  Чисто виртуальный класс. Содержит функции MakeClass, MakeMethod, MakePrintOperatorUnit и также деструктор (=default, компилятор сам создает нужный деструктор).
  
### Конкретные фабрики
#### 6) Классы ProgrammFactoryCpp, ProgrammFactoryCSharp, ProgrammFactoryJava
  Функционал практически идентичен. Явно реализуются функции MakeClass, MakeMethod, MakePrintOperatorUnit для каждого из языков программирования. Каждая из функций возвращает умный указатель с помощью функции make_shared (создание объектов с умным указателем shared_ptr: сама выделяет память под объект, создает управляющий объектом блок и возвращает shared_ptr для созданного объекта. В последствии shared_ptr сам уничтожит созданный объект).
  
### UML-диаграмма проекта
![AbstractFabricUml](https://user-images.githubusercontent.com/106104315/236694872-a06fa406-9e1a-44d3-9f33-ffb18ad556ad.png)

    
